<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Glibc-2.29 - Linux From Scratch Version 8.4-Systemd</title>
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body class="light">
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            document.body.className = theme;
            document.querySelector('html').className = theme + ' js';
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li><a href="../00-preface/index.html"><strong aria-hidden="true">1.</strong> Preface</a></li><li><ol class="section"><li><a href="../00-preface/01-Foreword.html"><strong aria-hidden="true">1.1.</strong> Foreword</a></li><li><a href="../00-preface/02-Audience.html"><strong aria-hidden="true">1.2.</strong> Audience</a></li><li><a href="../00-preface/03-LFS-Target-Architectures.html"><strong aria-hidden="true">1.3.</strong> LFS Target Architectures</a></li><li><a href="../00-preface/04-LFS-and-Standards.html"><strong aria-hidden="true">1.4.</strong> LFS and Standards</a></li><li><a href="../00-preface/05-Rationale-for-Packages-in-the-Book.html"><strong aria-hidden="true">1.5.</strong> Rationale for Packages in the Book</a></li><li><a href="../00-preface/06-Prerequisites.html"><strong aria-hidden="true">1.6.</strong> Prerequisites</a></li><li><a href="../00-preface/07-Typography.html"><strong aria-hidden="true">1.7.</strong> Typography</a></li><li><a href="../00-preface/08-Structure.html"><strong aria-hidden="true">1.8.</strong> Structure</a></li><li><a href="../00-preface/09-Errata.html"><strong aria-hidden="true">1.9.</strong> Errata</a></li></ol></li><li><a href="../01-introduction/index.html"><strong aria-hidden="true">2.</strong> Introduction</a></li><li><ol class="section"><li><a href="../01-introduction/01-How-to-Build-an-LFS-System.html"><strong aria-hidden="true">2.1.</strong> How to Build an LFS System</a></li><li><a href="../01-introduction/02-Whats-new-since-the-last-release.html"><strong aria-hidden="true">2.2.</strong> What's new since the last release</a></li><li><a href="../01-introduction/03-Changelog.html"><strong aria-hidden="true">2.3.</strong> Changelog</a></li><li><a href="../01-introduction/04-Resources.html"><strong aria-hidden="true">2.4.</strong> Resources</a></li><li><a href="../01-introduction/05-Help.html"><strong aria-hidden="true">2.5.</strong> Help</a></li></ol></li><li><a href="../02-Preparing-the-Host-System/index.html"><strong aria-hidden="true">3.</strong> Preparing the Host System</a></li><li><ol class="section"><li><a href="../02-Preparing-the-Host-System/01-Introduction.html"><strong aria-hidden="true">3.1.</strong> Introduction</a></li><li><a href="../02-Preparing-the-Host-System/02-Host-System-Requirements.html"><strong aria-hidden="true">3.2.</strong> Host System Requirements</a></li><li><a href="../02-Preparing-the-Host-System/03-Building-LFS-in-Stages.html"><strong aria-hidden="true">3.3.</strong> Building LFS in Stages</a></li><li><a href="../02-Preparing-the-Host-System/04-Creating-a-New-Partition.html"><strong aria-hidden="true">3.4.</strong> Creating a New Partition</a></li><li><a href="../02-Preparing-the-Host-System/05-Creating-a-File-System-on-the-Partition.html"><strong aria-hidden="true">3.5.</strong> Creating a File System on the Partition</a></li><li><a href="../02-Preparing-the-Host-System/06-Setting-The-$LFS-Variable.html"><strong aria-hidden="true">3.6.</strong> Setting The $LFS Variable</a></li><li><a href="../02-Preparing-the-Host-System/07-Mounting-the-New-Partition.html"><strong aria-hidden="true">3.7.</strong> Mounting the New Partition</a></li></ol></li><li><a href="../03-Packages-and-Patches/index.html"><strong aria-hidden="true">4.</strong> Packages and Patches</a></li><li><ol class="section"><li><a href="../03-Packages-and-Patches/01-Introduction.html"><strong aria-hidden="true">4.1.</strong> Introduction</a></li><li><a href="../03-Packages-and-Patches/02-All-Packages.html"><strong aria-hidden="true">4.2.</strong> All Packages</a></li><li><a href="../03-Packages-and-Patches/03-Needed-Patches.html"><strong aria-hidden="true">4.3.</strong> Needed Patches</a></li></ol></li><li><a href="../04-Final-Preparations/index.html"><strong aria-hidden="true">5.</strong> Final Preparations</a></li><li><ol class="section"><li><a href="../04-Final-Preparations/01-Introduction.html"><strong aria-hidden="true">5.1.</strong> Introduction</a></li><li><a href="../04-Final-Preparations/02-Creating-the-$LFS-tools-Directory.html"><strong aria-hidden="true">5.2.</strong> Creating the $LFS/tools Directory</a></li><li><a href="../04-Final-Preparations/03-Adding-the-LFS-User.html"><strong aria-hidden="true">5.3.</strong> Adding the LFS User</a></li><li><a href="../04-Final-Preparations/04-Setting-Up-the-Environment.html"><strong aria-hidden="true">5.4.</strong> Setting Up the Environment</a></li><li><a href="../04-Final-Preparations/05-About-SBUs.html"><strong aria-hidden="true">5.5.</strong> About SBUs</a></li><li><a href="../04-Final-Preparations/06-About-the-Test-Suites.html"><strong aria-hidden="true">5.6.</strong> About the Test Suites</a></li></ol></li><li><a href="../05-Constructing-a-Temporary-System/index.html"><strong aria-hidden="true">6.</strong> Constructing a Temporary System</a></li><li><ol class="section"><li><a href="../05-Constructing-a-Temporary-System/01-Introduction.html"><strong aria-hidden="true">6.1.</strong> Introduction</a></li><li><a href="../05-Constructing-a-Temporary-System/02-Toolchain-Technical-Notes.html"><strong aria-hidden="true">6.2.</strong> Toolchain Technical Notes</a></li><li><a href="../05-Constructing-a-Temporary-System/03-General-Compilation-Instructions.html"><strong aria-hidden="true">6.3.</strong> General Compilation Instructions</a></li><li><a href="../05-Constructing-a-Temporary-System/04-Binutils-2.32-Pass-1.html"><strong aria-hidden="true">6.4.</strong> Binutils-2.32 - Pass 1</a></li><li><a href="../05-Constructing-a-Temporary-System/05-GCC-8.2.0-Pass-1.html"><strong aria-hidden="true">6.5.</strong> GCC-8.2.0 - Pass 1</a></li><li><a href="../05-Constructing-a-Temporary-System/06-Linux-4.20.12-API-Headers.html"><strong aria-hidden="true">6.6.</strong> Linux-4.20.12 API Headers</a></li><li><a href="../05-Constructing-a-Temporary-System/07-Glibc-2.29.html"><strong aria-hidden="true">6.7.</strong> Glibc-2.29</a></li><li><a href="../05-Constructing-a-Temporary-System/08-Libstdc++-from-GCC-8.2.0.html"><strong aria-hidden="true">6.8.</strong> Libstdc++ from GCC-8.2.0</a></li><li><a href="../05-Constructing-a-Temporary-System/09-Binutils-2.32-Pass-2.html"><strong aria-hidden="true">6.9.</strong> Binutils-2.32 - Pass 2</a></li><li><a href="../05-Constructing-a-Temporary-System/10-GCC-8.2.0-Pass-2.html"><strong aria-hidden="true">6.10.</strong> GCC-8.2.0 - Pass 2</a></li><li><a href="../05-Constructing-a-Temporary-System/11-Tcl-8.6.9.html"><strong aria-hidden="true">6.11.</strong> Tcl-8.6.9</a></li><li><a href="../05-Constructing-a-Temporary-System/12-Expect-5.45.4.html"><strong aria-hidden="true">6.12.</strong> Expect-5.45.4</a></li><li><a href="../05-Constructing-a-Temporary-System/13-DejaGNU-1.6.2.html"><strong aria-hidden="true">6.13.</strong> DejaGNU-1.6.2</a></li><li><a href="../05-Constructing-a-Temporary-System/14-M4-1.4.18.html"><strong aria-hidden="true">6.14.</strong> M4-1.4.18</a></li><li><a href="../05-Constructing-a-Temporary-System/15-Ncurses-6.1.html"><strong aria-hidden="true">6.15.</strong> Ncurses-6.1</a></li><li><a href="../05-Constructing-a-Temporary-System/16-Bash-5.0.html"><strong aria-hidden="true">6.16.</strong> Bash-5.0</a></li><li><a href="../05-Constructing-a-Temporary-System/17-Bison-3.3.2.html"><strong aria-hidden="true">6.17.</strong> Bison-3.3.2</a></li><li><a href="../05-Constructing-a-Temporary-System/18-Bzip2-1.0.6.html"><strong aria-hidden="true">6.18.</strong> Bzip2-1.0.6</a></li><li><a href="../05-Constructing-a-Temporary-System/19-Coreutils-8.30.html"><strong aria-hidden="true">6.19.</strong> Coreutils-8.30</a></li><li><a href="../05-Constructing-a-Temporary-System/20-Diffutils-3.7.html"><strong aria-hidden="true">6.20.</strong> Diffutils-3.7</a></li><li><a href="../05-Constructing-a-Temporary-System/21-File-5.36.html"><strong aria-hidden="true">6.21.</strong> File-5.36</a></li><li><a href="../05-Constructing-a-Temporary-System/22-Findutils-4.6.0.html"><strong aria-hidden="true">6.22.</strong> Findutils-4.6.0</a></li><li><a href="../05-Constructing-a-Temporary-System/23-Gawk-4.2.1.html"><strong aria-hidden="true">6.23.</strong> Gawk-4.2.1</a></li><li><a href="../05-Constructing-a-Temporary-System/24-Gettext-0.19.8.1.html"><strong aria-hidden="true">6.24.</strong> Gettext-0.19.8.1</a></li><li><a href="../05-Constructing-a-Temporary-System/25-Grep-3.3.html"><strong aria-hidden="true">6.25.</strong> Grep-3.3</a></li><li><a href="../05-Constructing-a-Temporary-System/26-Gzip-1.10.html"><strong aria-hidden="true">6.26.</strong> Gzip-1.10</a></li><li><a href="../05-Constructing-a-Temporary-System/27-Make-4.2.1.html"><strong aria-hidden="true">6.27.</strong> Make-4.2.1</a></li><li><a href="../05-Constructing-a-Temporary-System/28-Patch-2.7.6.html"><strong aria-hidden="true">6.28.</strong> Patch-2.7.6</a></li><li><a href="../05-Constructing-a-Temporary-System/29-Perl-5.28.1.html"><strong aria-hidden="true">6.29.</strong> Perl-5.28.1</a></li><li><a href="../05-Constructing-a-Temporary-System/30-Python-3.7.2.html"><strong aria-hidden="true">6.30.</strong> Python-3.7.2</a></li><li><a href="../05-Constructing-a-Temporary-System/31-Sed-4.7.html"><strong aria-hidden="true">6.31.</strong> Sed-4.7</a></li><li><a href="../05-Constructing-a-Temporary-System/32-Tar-1.31.html"><strong aria-hidden="true">6.32.</strong> Tar-1.31</a></li><li><a href="../05-Constructing-a-Temporary-System/33-Texinfo-6.5.html"><strong aria-hidden="true">6.33.</strong> Texinfo-6.5</a></li><li><a href="../05-Constructing-a-Temporary-System/34-Util-linux-2.33.1.html"><strong aria-hidden="true">6.34.</strong> Util-linux-2.33.1</a></li><li><a href="../05-Constructing-a-Temporary-System/35-Xz-5.2.4.html"><strong aria-hidden="true">6.35.</strong> Xz-5.2.4</a></li><li><a href="../05-Constructing-a-Temporary-System/36-Stripping.html"><strong aria-hidden="true">6.36.</strong> Stripping</a></li><li><a href="../05-Constructing-a-Temporary-System/37-Changing-Ownership.html"><strong aria-hidden="true">6.37.</strong> Changing Ownership</a></li></ol></li><li><a href="../06-Installing-Basic-System-Software/index.html"><strong aria-hidden="true">7.</strong> Installing Basic System Software</a></li><li><ol class="section"><li><a href="../06-Installing-Basic-System-Software/01-Introduction.html"><strong aria-hidden="true">7.1.</strong> Introduction</a></li><li><a href="../06-Installing-Basic-System-Software/02-Preparing-Virtual-Kernel-File-Systems.html"><strong aria-hidden="true">7.2.</strong> Preparing Virtual Kernel File Systems</a></li><li><a href="../06-Installing-Basic-System-Software/03-Package-Management.html"><strong aria-hidden="true">7.3.</strong> Package Management</a></li><li><a href="../06-Installing-Basic-System-Software/04-Entering-the-Chroot-Environment.html"><strong aria-hidden="true">7.4.</strong> Entering the Chroot Environment</a></li><li><a href="../06-Installing-Basic-System-Software/05-Creating-Directories.html"><strong aria-hidden="true">7.5.</strong> Creating Directories</a></li><li><a href="../06-Installing-Basic-System-Software/06-Creating-Essential-Files-and-Symlinks.html"><strong aria-hidden="true">7.6.</strong> Creating Essential Files and Symlinks</a></li><li><a href="../06-Installing-Basic-System-Software/07-Linux-4.20.12-API-Headers.html"><strong aria-hidden="true">7.7.</strong> Linux-4.20.12 API Headers</a></li><li><a href="../06-Installing-Basic-System-Software/08-Man-pages-4.16.html"><strong aria-hidden="true">7.8.</strong> Man-pages-4.16</a></li><li><a href="../06-Installing-Basic-System-Software/09-Glibc-2.29.html" class="active"><strong aria-hidden="true">7.9.</strong> Glibc-2.29</a></li><li><a href="../06-Installing-Basic-System-Software/10-Adjusting-the-Toolchain.html"><strong aria-hidden="true">7.10.</strong> Adjusting the Toolchain</a></li><li><a href="../06-Installing-Basic-System-Software/11-Zlib-1.2.11.html"><strong aria-hidden="true">7.11.</strong> Zlib-1.2.11</a></li><li><a href="../06-Installing-Basic-System-Software/12-File-5.36.html"><strong aria-hidden="true">7.12.</strong> File-5.36</a></li><li><a href="../06-Installing-Basic-System-Software/13-Readline-8.0.html"><strong aria-hidden="true">7.13.</strong> Readline-8.0</a></li><li><a href="../06-Installing-Basic-System-Software/14-M4-1.4.18.html"><strong aria-hidden="true">7.14.</strong> M4-1.4.18</a></li><li><a href="../06-Installing-Basic-System-Software/15-Bc-1.07.1.html"><strong aria-hidden="true">7.15.</strong> Bc-1.07.1</a></li><li><a href="../06-Installing-Basic-System-Software/16-Binutils-2.32.html"><strong aria-hidden="true">7.16.</strong> Binutils-2.32</a></li><li><a href="../06-Installing-Basic-System-Software/17-GMP-6.1.2.html"><strong aria-hidden="true">7.17.</strong> GMP-6.1.2</a></li><li><a href="../06-Installing-Basic-System-Software/18-MPFR-4.0.2.html"><strong aria-hidden="true">7.18.</strong> MPFR-4.0.2</a></li><li><a href="../06-Installing-Basic-System-Software/19-MPC-1.1.0.html"><strong aria-hidden="true">7.19.</strong> MPC-1.1.0</a></li><li><a href="../06-Installing-Basic-System-Software/20-Shadow-4.6.html"><strong aria-hidden="true">7.20.</strong> Shadow-4.6</a></li><li><a href="../06-Installing-Basic-System-Software/21-GCC-8.2.0.html"><strong aria-hidden="true">7.21.</strong> GCC-8.2.0</a></li><li><a href="../06-Installing-Basic-System-Software/22-Bzip2-1.0.6.html"><strong aria-hidden="true">7.22.</strong> Bzip2-1.0.6</a></li><li><a href="../06-Installing-Basic-System-Software/23-Pkg-config-0.29.2.html"><strong aria-hidden="true">7.23.</strong> Pkg-config-0.29.2</a></li><li><a href="../06-Installing-Basic-System-Software/24-Ncurses-6.1.html"><strong aria-hidden="true">7.24.</strong> Ncurses-6.1</a></li><li><a href="../06-Installing-Basic-System-Software/25-Attr-2.4.48.html"><strong aria-hidden="true">7.25.</strong> Attr-2.4.48</a></li><li><a href="../06-Installing-Basic-System-Software/26-Acl-2.2.53.html"><strong aria-hidden="true">7.26.</strong> Acl-2.2.53</a></li><li><a href="../06-Installing-Basic-System-Software/27-Libcap-2.26.html"><strong aria-hidden="true">7.27.</strong> Libcap-2.26</a></li><li><a href="../06-Installing-Basic-System-Software/28-Sed-4.7.html"><strong aria-hidden="true">7.28.</strong> Sed-4.7</a></li><li><a href="../06-Installing-Basic-System-Software/29-Psmisc-23.2.html"><strong aria-hidden="true">7.29.</strong> Psmisc-23.2</a></li><li><a href="../06-Installing-Basic-System-Software/30-Iana-Etc-2.30.html"><strong aria-hidden="true">7.30.</strong> Iana-Etc-2.30</a></li><li><a href="../06-Installing-Basic-System-Software/31-Bison-3.3.2.html"><strong aria-hidden="true">7.31.</strong> Bison-3.3.2</a></li><li><a href="../06-Installing-Basic-System-Software/32-Flex-2.6.4.html"><strong aria-hidden="true">7.32.</strong> Flex-2.6.4</a></li><li><a href="../06-Installing-Basic-System-Software/33-Grep-3.3.html"><strong aria-hidden="true">7.33.</strong> Grep-3.3</a></li><li><a href="../06-Installing-Basic-System-Software/34-Bash-5.0.html"><strong aria-hidden="true">7.34.</strong> Bash-5.0</a></li><li><a href="../06-Installing-Basic-System-Software/35-Libtool-2.4.6.html"><strong aria-hidden="true">7.35.</strong> Libtool-2.4.6</a></li><li><a href="../06-Installing-Basic-System-Software/36-GDBM-1.18.1.html"><strong aria-hidden="true">7.36.</strong> GDBM-1.18.1</a></li><li><a href="../06-Installing-Basic-System-Software/37-Gperf-3.1.html"><strong aria-hidden="true">7.37.</strong> Gperf-3.1</a></li><li><a href="../06-Installing-Basic-System-Software/38-Expat-2.2.6.html"><strong aria-hidden="true">7.38.</strong> Expat-2.2.6</a></li><li><a href="../06-Installing-Basic-System-Software/39-Inetutils-1.9.4.html"><strong aria-hidden="true">7.39.</strong> Inetutils-1.9.4</a></li><li><a href="../06-Installing-Basic-System-Software/40-Perl-5.28.1.html"><strong aria-hidden="true">7.40.</strong> Perl-5.28.1</a></li><li><a href="../06-Installing-Basic-System-Software/41-XML::Parser-2.44.html"><strong aria-hidden="true">7.41.</strong> XML::Parser-2.44</a></li><li><a href="../06-Installing-Basic-System-Software/42-Intltool-0.51.0.html"><strong aria-hidden="true">7.42.</strong> Intltool-0.51.0</a></li><li><a href="../06-Installing-Basic-System-Software/43-Autoconf-2.69.html"><strong aria-hidden="true">7.43.</strong> Autoconf-2.69</a></li><li><a href="../06-Installing-Basic-System-Software/44-Automake-1.16.1.html"><strong aria-hidden="true">7.44.</strong> Automake-1.16.1</a></li><li><a href="../06-Installing-Basic-System-Software/45-Xz-5.2.4.html"><strong aria-hidden="true">7.45.</strong> Xz-5.2.4</a></li><li><a href="../06-Installing-Basic-System-Software/46-Kmod-26-26tion.html"><strong aria-hidden="true">7.46.</strong> Kmod-26</a></li><li><a href="../06-Installing-Basic-System-Software/47-Gettext-0.19.8.1.html"><strong aria-hidden="true">7.47.</strong> Gettext-0.19.8.1</a></li><li><a href="../06-Installing-Basic-System-Software/48-Libelf-from-Elfutils-0.176.html"><strong aria-hidden="true">7.48.</strong> Libelf from Elfutils-0.176</a></li><li><a href="../06-Installing-Basic-System-Software/49-Libffi-3.2.1.html"><strong aria-hidden="true">7.49.</strong> Libffi-3.2.1</a></li><li><a href="../06-Installing-Basic-System-Software/50-OpenSSL-1.1.1a-3.2.1.html"><strong aria-hidden="true">7.50.</strong> OpenSSL-1.1.1a</a></li><li><a href="../06-Installing-Basic-System-Software/51-Python-3.7.2.html"><strong aria-hidden="true">7.51.</strong> Python-3.7.2</a></li><li><a href="../06-Installing-Basic-System-Software/52-Ninja-1.9.0.html"><strong aria-hidden="true">7.52.</strong> Ninja-1.9.0</a></li><li><a href="../06-Installing-Basic-System-Software/53-Meson-0.49.2.html"><strong aria-hidden="true">7.53.</strong> Meson-0.49.2</a></li><li><a href="../06-Installing-Basic-System-Software/54-Coreutils-8.30.html"><strong aria-hidden="true">7.54.</strong> Coreutils-8.30</a></li><li><a href="../06-Installing-Basic-System-Software/55-Check-0.12.0.html"><strong aria-hidden="true">7.55.</strong> Check-0.12.0</a></li><li><a href="../06-Installing-Basic-System-Software/56-Diffutils-3.7.html"><strong aria-hidden="true">7.56.</strong> Diffutils-3.7</a></li><li><a href="../06-Installing-Basic-System-Software/57-Gawk-4.2.1.html"><strong aria-hidden="true">7.57.</strong> Gawk-4.2.1</a></li><li><a href="../06-Installing-Basic-System-Software/58-Findutils-4.6.0.html"><strong aria-hidden="true">7.58.</strong> Findutils-4.6.0</a></li><li><a href="../06-Installing-Basic-System-Software/59-Groff-1.22.4.html"><strong aria-hidden="true">7.59.</strong> Groff-1.22.4</a></li><li><a href="../06-Installing-Basic-System-Software/60-GRUB-2.02.html"><strong aria-hidden="true">7.60.</strong> GRUB-2.02</a></li><li><a href="../06-Installing-Basic-System-Software/61-Less-530.html"><strong aria-hidden="true">7.61.</strong> Less-530</a></li><li><a href="../06-Installing-Basic-System-Software/62-Gzip-1.10.html"><strong aria-hidden="true">7.62.</strong> Gzip-1.10</a></li><li><a href="../06-Installing-Basic-System-Software/63-IPRoute2-4.20.0.html"><strong aria-hidden="true">7.63.</strong> IPRoute2-4.20.0</a></li><li><a href="../06-Installing-Basic-System-Software/64-Kbd-2.0.4.html"><strong aria-hidden="true">7.64.</strong> Kbd-2.0.4</a></li><li><a href="../06-Installing-Basic-System-Software/65-Libpipeline-1.5.1.html"><strong aria-hidden="true">7.65.</strong> Libpipeline-1.5.1</a></li><li><a href="../06-Installing-Basic-System-Software/66-Make-4.2.1.html"><strong aria-hidden="true">7.66.</strong> Make-4.2.1</a></li><li><a href="../06-Installing-Basic-System-Software/67-Patch-2.7.6.html"><strong aria-hidden="true">7.67.</strong> Patch-2.7.6</a></li><li><a href="../06-Installing-Basic-System-Software/68-Man-DB-2.8.5.html"><strong aria-hidden="true">7.68.</strong> Man-DB-2.8.5</a></li><li><a href="../06-Installing-Basic-System-Software/69-Tar-1.31.html"><strong aria-hidden="true">7.69.</strong> Tar-1.31</a></li><li><a href="../06-Installing-Basic-System-Software/70-Texinfo-6.5.html"><strong aria-hidden="true">7.70.</strong> Texinfo-6.5</a></li><li><a href="../06-Installing-Basic-System-Software/71-Vim-8.1.html"><strong aria-hidden="true">7.71.</strong> Vim-8.1</a></li><li><a href="../06-Installing-Basic-System-Software/72-Systemd-240.html"><strong aria-hidden="true">7.72.</strong> Systemd-240</a></li><li><a href="../06-Installing-Basic-System-Software/73-D-Bus-1.12.12.html"><strong aria-hidden="true">7.73.</strong> D-Bus-1.12.12</a></li><li><a href="../06-Installing-Basic-System-Software/74-Procps-ng-3.3.15.html"><strong aria-hidden="true">7.74.</strong> Procps-ng-3.3.15</a></li><li><a href="../06-Installing-Basic-System-Software/75-Util-linux-2.33.1.html"><strong aria-hidden="true">7.75.</strong> Util-linux-2.33.1</a></li><li><a href="../06-Installing-Basic-System-Software/76-E2fsprogs-1.44.5.html"><strong aria-hidden="true">7.76.</strong> E2fsprogs-1.44.5</a></li><li><a href="../06-Installing-Basic-System-Software/77-About-Debugging-Symbols.html"><strong aria-hidden="true">7.77.</strong> About Debugging Symbols</a></li><li><a href="../06-Installing-Basic-System-Software/78-Stripping-Again.html"><strong aria-hidden="true">7.78.</strong> Stripping Again</a></li><li><a href="../06-Installing-Basic-System-Software/79-Cleaning-Up.html"><strong aria-hidden="true">7.79.</strong> Cleaning Up</a></li></ol></li><li><a href="../07-System-Configuration/index.html"><strong aria-hidden="true">8.</strong> System Configuration</a></li><li><ol class="section"><li><a href="../07-System-Configuration/01-Introduction.html"><strong aria-hidden="true">8.1.</strong> Introduction</a></li><li><a href="../07-System-Configuration/02-General-Network-Configuration.html"><strong aria-hidden="true">8.2.</strong> General Network Configuration</a></li><li><a href="../07-System-Configuration/03-Overview-of-Device-and-Module-Handling.html"><strong aria-hidden="true">8.3.</strong> Overview of Device and Module Handling</a></li><li><a href="../07-System-Configuration/04-Managing-Devices.html"><strong aria-hidden="true">8.4.</strong> Managing Devices</a></li><li><a href="../07-System-Configuration/05-Configuring-the-system-clock.html"><strong aria-hidden="true">8.5.</strong> Configuring the system clock</a></li><li><a href="../07-System-Configuration/06-Configuring-the-Linux-Console.html"><strong aria-hidden="true">8.6.</strong> Configuring the Linux Console</a></li><li><a href="../07-System-Configuration/07-Configuring-the-System-Locale.html"><strong aria-hidden="true">8.7.</strong> Configuring the System Locale</a></li><li><a href="../07-System-Configuration/08-Creating-the-slash-etc-slash-inputrc-File.html"><strong aria-hidden="true">8.8.</strong> Creating the /etc/inputrc File</a></li><li><a href="../07-System-Configuration/09-Creating-the-slash-etc-slash-shells-File.html"><strong aria-hidden="true">8.9.</strong> Creating the /etc/shells File</a></li><li><a href="../07-System-Configuration/10-Systemd-Usage-and-Configuration.html"><strong aria-hidden="true">8.10.</strong> Systemd Usage and Configuration</a></li></ol></li><li><a href="../08-Making-the-LFS-System-Bootable/index.html"><strong aria-hidden="true">9.</strong> Making the LFS System Bootable</a></li><li><ol class="section"><li><a href="../08-Making-the-LFS-System-Bootable/01-Introduction.html"><strong aria-hidden="true">9.1.</strong> Introduction</a></li><li><a href="../08-Making-the-LFS-System-Bootable/02-Creating-the-slash-etc-slash-fstab-File.html"><strong aria-hidden="true">9.2.</strong> Creating the /etc/fstab File </a></li><li><a href="../08-Making-the-LFS-System-Bootable/03-Linux-4.20.12.html"><strong aria-hidden="true">9.3.</strong> Linux-4.20.12</a></li><li><a href="../08-Making-the-LFS-System-Bootable/04-Using-GRUB-to-Set-Up-the-Boot-Process.html"><strong aria-hidden="true">9.4.</strong> Using GRUB to Set Up the Boot Process</a></li></ol></li><li><a href="../09-The-End/index.html"><strong aria-hidden="true">10.</strong> The End</a></li><li><ol class="section"><li><a href="../09-The-End/01-The-End.html"><strong aria-hidden="true">10.1.</strong> The End</a></li><li><a href="../09-The-End/02-Get-Counted.html"><strong aria-hidden="true">10.2.</strong> Get Counted</a></li><li><a href="../09-The-End/03-Rebooting-the-System.html"><strong aria-hidden="true">10.3.</strong> Rebooting the System</a></li><li><a href="../09-The-End/04-What-Now.html"><strong aria-hidden="true">10.4.</strong> What Now?</a></li></ol></li><li><a href="../10-Appendices/index.html"><strong aria-hidden="true">11.</strong> Appendices</a></li><li><ol class="section"><li><a href="../10-Appendices/01-Acronyms-and-Terms.html"><strong aria-hidden="true">11.1.</strong> Acronyms and Terms</a></li><li><a href="../10-Appendices/02-Acknowledgments.html"><strong aria-hidden="true">11.2.</strong> Acknowledgments</a></li><li><a href="../10-Appendices/03-Dependencies.html"><strong aria-hidden="true">11.3.</strong> Dependencies</a></li><li><a href="../10-Appendices/04-LFS-Licenses.html"><strong aria-hidden="true">11.4.</strong> LFS Licenses</a></li></ol></li><li><a href="../10-Appendices/CCL.html">Creative Commons License</a></li><li class="affix"><a href="../10-Appendices/MITL.html">The MIT License</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title">Linux From Scratch Version 8.4-Systemd</h1>

                        <div class="right-buttons">
                            <a href="../print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                            
                        </div>
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <blockquote>
<h1><a class="header" href="#glibc-229" id="glibc-229">Glibc-2.29</a></h1>
<p>The Glibc package contains the main C library. This library provides the basic routines for allocating memory, searching directories, opening and closing files, reading and writing files, string handling, pattern matching, arithmetic, and so on.</p>
<p><strong>Approximate Build Time:</strong> 22 SBU</p>
<p><strong>Required Disk Space:</strong> 3.2 GB</p>
</blockquote>
<h1><a class="header" href="#installation-of-glibc" id="installation-of-glibc">Installation of Glibc</a></h1>
<blockquote>
<p><strong>Note</strong></p>
<blockquote>
<p>The Glibc build system is self-contained and will install perfectly, even though the compiler specs file and linker are still pointing to <code>/tools</code>. The specs and linker cannot be adjusted before the Glibc install because the Glibc autoconf tests would give false results and defeat the goal of achieving a clean build.</p>
</blockquote>
</blockquote>
<p>Some of the Glibc programs use the non-FHS compilant <code>/var/db</code> directory to store their runtime data. Apply the following patch to make such programs store their runtime data in the FHS-compliant locations:</p>
<pre><code class="language-sh">patch -Np1 -i ../glibc-2.29-fhs-1.patch
</code></pre>
<p>First create a compatibility symlink to avoid references to /tools in our final glibc:</p>
<pre><code class="language-sh">ln -sfv /tools/lib/gcc /usr/lib
</code></pre>
<p>Determine the GCC include directory and create a symlink for LSB compliance. Additionally, for x86_64, create a compatibility symlink required for the dynamic loader to function correctly:</p>
<pre><code class="language-sh">case $(uname -m) in
    i?86)    GCC_INCDIR=/usr/lib/gcc/$(uname -m)-pc-linux-gnu/8.2.0/include
            ln -sfv ld-linux.so.2 /lib/ld-lsb.so.3
    ;;
    x86_64) GCC_INCDIR=/usr/lib/gcc/x86_64-pc-linux-gnu/8.2.0/include
            ln -sfv ../lib/ld-linux-x86-64.so.2 /lib64
            ln -sfv ../lib/ld-linux-x86-64.so.2 /lib64/ld-lsb-x86-64.so.3
    ;;
esac
</code></pre>
<p>Remove a file that may be left over from a previous build attempt:</p>
<pre><code class="language-sh">rm -f /usr/include/limits.h
</code></pre>
<p>The Glibc documentation recommends building Glibc in a dedicated build directory:</p>
<pre><code class="language-sh">mkdir -v build
cd       build
</code></pre>
<p>Prepare Glibc for compilation:</p>
<pre><code class="language-sh">CC=&quot;gcc -isystem $GCC_INCDIR -isystem /usr/include&quot; \
../configure --prefix=/usr                          \
             --disable-werror                       \
             --enable-kernel=3.2                    \
             --enable-stack-protector=strong        \
             libc_cv_slibdir=/lib
unset GCC_INCDIR
</code></pre>
<h3><a class="header" href="#the-meaning-of-the-options-and-new-configure-parameters" id="the-meaning-of-the-options-and-new-configure-parameters">The meaning of the options and new configure parameters:</a></h3>
<blockquote>
<p><strong><em>CC=&quot;gcc -isystem $GCC_INCDIR -isystem /usr/include&quot;</em></strong></p>
<blockquote>
<p>Setting the location of both gcc and system include directories avoids introduction of invalid paths in debugging symbols.</p>
</blockquote>
<p><strong><em>--disable-werror</em></strong></p>
<blockquote>
<p>This option disables the -Werror option passed to GCC. This is necessary for running the test suite.</p>
</blockquote>
<p><strong><em>--enable-stack-protector=strong</em></strong></p>
<blockquote>
<p>This option increases system security by adding extra code to check for buffer overflows, such as stack smashing attacks.</p>
</blockquote>
<p><strong><em>libc_cv_slibdir=/lib</em></strong></p>
<blockquote>
<p>This variable sets the correct library for all systems. We do not want lib64 to be used.</p>
</blockquote>
</blockquote>
<p>Compile the package:</p>
<pre><code class="language-sh">make
</code></pre>
<blockquote>
<p><strong>Important</strong></p>
<blockquote>
<p>In this section, the test suite for Glibc is considered critical. Do not skip it under any circumstance.</p>
</blockquote>
</blockquote>
<p>Generally a few tests do not pass. The test failures listed below are usually safe to ignore.</p>
<pre><code class="language-sh">case $(uname -m) in
  i?86)   ln -sfnv $PWD/elf/ld-linux.so.2        /lib ;;
  x86_64) ln -sfnv $PWD/elf/ld-linux-x86-64.so.2 /lib ;;
esac
</code></pre>
<blockquote>
<p><strong>Note</strong></p>
<blockquote>
<p>The symbolic link above is needed to run the tests at this stage of building in the chroot envirnment. It will be overwritten in the install phase below.</p>
</blockquote>
</blockquote>
<pre><code class="language-sh">make check
</code></pre>
<p>You may see some test failures. The Glibc test suite is somewhat dependent on the host system. This is a list of the most common issues seen for some versions of LFS:</p>
<ul>
<li>
<p><em>misc/tst-ttyname</em> is known to fail in the LFS chroot environment.</p>
</li>
<li>
<p><em>inet/tst-idna_name_classify</em> is known to fail in the LFS chroot environment.</p>
</li>
<li>
<p><em>posix/tst-getaddrinfo4 and posix/tst-getaddrinfo5</em> may fail on some architectures.</p>
</li>
<li>
<p>The <em>nss/tst-nss-files-hosts-multi</em> test may fail for reasons that have not been determined.</p>
</li>
<li>
<p>The <em>rt/tst-cputimer{1,2,3}</em> tests depend on the host system kernel. Kernels 4.14.91–4.14.96, 4.19.13–4.19.18, and 4.20.0–4.20.5 are known to cause these tests to fail.</p>
</li>
<li>
<p>The math tests sometimes fail when running on systems where the CPU is not a relatively new Intel or AMD processor.</p>
</li>
</ul>
<p>Though it is a harmless message, the install stage of Glibc will complain about the absence of /etc/ld.so.conf. Prevent this warning with:</p>
<pre><code class="language-sh">touch /etc/ld.so.conf
</code></pre>
<p>Fix the generated Makefile to skip an unneeded sanity check that fails in the LFS partial environment:</p>
<pre><code class="language-sh">sed '/test-installation/s@$(PERL)@echo not running@' -i ../Makefile
</code></pre>
<p>Install the package:</p>
<pre><code class="language-sh">make install
</code></pre>
<p>Install the configuration file and runtime directory for <strong>nscd</strong>:</p>
<pre><code class="language-sh">cp -v ../nscd/nscd.conf /etc/nscd.conf
mkdir -pv /var/cache/nscd
</code></pre>
<p>Install the systemd support files for <strong>nscd</strong>:</p>
<pre><code class="language-sh">install -v -Dm644 ../nscd/nscd.tmpfiles /usr/lib/tmpfiles.d/nscd.conf
install -v -Dm644 ../nscd/nscd.service /lib/systemd/system/nscd.service
</code></pre>
<p>Next, install the locales that can make the system respond in a different language. None of the locales are required, but if some of them are missing, the test suites of future packages would skip important testcases.</p>
<p>Individual locales can be installed using the <strong>localedef</strong> program. E.g., the first <strong>localedef</strong> command below combines the <code>/usr/share/i18n/locales/cs_CZ</code> charset-independent locale definition with the <code>/usr/share/i18n/charmaps/UTF-8.gz</code> charmap definition and appends the result to the <code>/usr/lib/locale/locale-archive</code> file. The following instructions will install the minimum set of locales necessary for the optimal coverage of tests:</p>
<pre><code class="language-sh">mkdir -pv /usr/lib/locale
localedef -i POSIX -f UTF-8 C.UTF-8 2&gt; /dev/null || true
localedef -i cs_CZ -f UTF-8 cs_CZ.UTF-8
localedef -i de_DE -f ISO-8859-1 de_DE
localedef -i de_DE@euro -f ISO-8859-15 de_DE@euro
localedef -i de_DE -f UTF-8 de_DE.UTF-8
localedef -i el_GR -f ISO-8859-7 el_GR
localedef -i en_GB -f UTF-8 en_GB.UTF-8
localedef -i en_HK -f ISO-8859-1 en_HK
localedef -i en_PH -f ISO-8859-1 en_PH
localedef -i en_US -f ISO-8859-1 en_US
localedef -i en_US -f UTF-8 en_US.UTF-8
localedef -i es_MX -f ISO-8859-1 es_MX
localedef -i fa_IR -f UTF-8 fa_IR
localedef -i fr_FR -f ISO-8859-1 fr_FR
localedef -i fr_FR@euro -f ISO-8859-15 fr_FR@euro
localedef -i fr_FR -f UTF-8 fr_FR.UTF-8
localedef -i it_IT -f ISO-8859-1 it_IT
localedef -i it_IT -f UTF-8 it_IT.UTF-8
localedef -i ja_JP -f EUC-JP ja_JP
localedef -i ja_JP -f SHIFT_JIS ja_JP.SIJS 2&gt; /dev/null || true
localedef -i ja_JP -f UTF-8 ja_JP.UTF-8
localedef -i ru_RU -f KOI8-R ru_RU.KOI8-R
localedef -i ru_RU -f UTF-8 ru_RU.UTF-8
localedef -i tr_TR -f UTF-8 tr_TR.UTF-8
localedef -i zh_CN -f GB18030 zh_CN.GB18030
localedef -i zh_HK -f BIG5-HKSCS zh_HK.BIG5-HKSCS
</code></pre>
<p>In addition, install the locale for your own country, language and character set.</p>
<p>Alternatively, install all locales listed in the <code>glibc-2.29/localedata/SUPPORTED</code> file (it includes every locale listed above and many more) at once with the following time-consuming command:</p>
<pre><code class="language-sh">make localedata/install-locales
</code></pre>
<p>Then use the <strong>localedef</strong> command to create and install locales not listed in the <code>glibc-2.29/localedata/SUPPORTED</code> file in the unlikely case you need them.</p>
<blockquote>
<p><strong>Note</strong></p>
<blockquote>
<p>Glibc now uses libidn2 when resolving internationalized domain names. This is a run time dependency. If this capability is needed, the instructions for installing libidn2 are in the <a href="http://www.linuxfromscratch.org/blfs/view/8.4/general/libidn2.html">BLFS libidn2 page</a>.</p>
</blockquote>
</blockquote>
<h1><a class="header" href="#configuring-glibc" id="configuring-glibc">Configuring Glibc</a></h1>
<h2><a class="header" href="#adding-nsswitchconf" id="adding-nsswitchconf">Adding nsswitch.conf</a></h2>
<p>The <code>/etc/nsswitch.conf</code> file needs to be created because the Glibc defaults do not work well in a networked environment.</p>
<p>Create a new file <code>/etc/nsswitch.conf</code> by running the following:</p>
<pre><code class="language-sh">cat &gt; /etc/nsswitch.conf &lt;&lt; &quot;EOF&quot;
# Begin /etc/nsswitch.conf

passwd: files
group: files
shadow: files

hosts: files dns
networks: files

protocols: files
services: files
ethers: files
rpc: files

# End /etc/nsswitch.conf
EOF
</code></pre>
<h2><a class="header" href="#adding-time-zone-data" id="adding-time-zone-data">Adding time zone data</a></h2>
<p>Install and set up the time zone data with the following:</p>
<pre><code class="language-sh">tar -xf ../../tzdata2018i.tar.gz

ZONEINFO=/usr/share/zoneinfo
mkdir -pv $ZONEINFO/{posix,right}

for tz in etcetera southamerica northamerica europe africa antarctica  \
          asia australasia backward pacificnew systemv; do
    zic -L /dev/null   -d $ZONEINFO       ${tz}
    zic -L /dev/null   -d $ZONEINFO/posix ${tz}
    zic -L leapseconds -d $ZONEINFO/right ${tz}
done

cp -v zone.tab zone1970.tab iso3166.tab $ZONEINFO
zic -d $ZONEINFO -p America/New_York
unset ZONEINFO
</code></pre>
<h3><a class="header" href="#the-meaning-of-the-zic-commands" id="the-meaning-of-the-zic-commands">The meaning of the zic commands:</a></h3>
<blockquote>
<p><strong><em>zic -L /dev/null ...</em></strong></p>
<blockquote>
<p>This creates posix time zones, without any leap seconds. It is conventional to put these in both <code>zoneinfo</code> and <code>zoneinfo/posix</code>. It is necessary to put the POSIX time zones in <code>zoneinfo</code>, otherwise various test-suites will report errors. On an embedded system, where space is tight and you do not intend to ever update the time zones, you could save 1.9MB by not using the <code>posix</code> directory, but some applications or test-suites might produce some failures.</p>
</blockquote>
<p><strong><em>zic -L leapseconds ...</em></strong></p>
<blockquote>
<p>This creates right time zones, including leap seconds. On an embedded system, where space is tight and you do not intend to ever update the time zones, or care about the correct time, you could save 1.9MB by omitting the right directory.</p>
</blockquote>
<p><strong><em>zic ... -p ...</em></strong></p>
<blockquote>
<p>This creates the <code>posixrules</code> file. We use New York because POSIX requires the daylight savings time rules to be in accordance with US rules.</p>
</blockquote>
</blockquote>
<p>One way to determine the local time zone is to run the following script:</p>
<pre><code class="language-sh">tzselect
</code></pre>
<p>After answering a few questions about the location, the script will output the name of the time zone (e.g., <em>America/Edmonton</em>). There are also some other possible time zones listed in <code>/usr/share/zoneinfo</code> such as <em>Canada/Eastern</em> or <em>EST5EDT</em> that are not identified by the script but can be used.</p>
<p>Then create the /etc/localtime file by running:</p>
<pre><code class="language-sh">ln -sfv /usr/share/zoneinfo/&lt;xxx&gt; /etc/localtime
</code></pre>
<p>Replace <em>&lt;xxx&gt;</em> with the name of the time zone selected (e.g., Canada/Eastern).</p>
<h2><a class="header" href="#configuring-the-dynamic-loader" id="configuring-the-dynamic-loader">Configuring the Dynamic Loader</a></h2>
<p>By default, the dynamic loader (<code>/lib/ld-linux.so.2</code>) searches through <code>/lib</code> and <code>/usr/lib</code> for dynamic libraries that are needed by programs as they are run. However, if there are libraries in directories other than <code>/lib</code> and <code>/usr/lib</code>, these need to be added to the <code>/etc/ld.so.conf</code> file in order for the dynamic loader to find them. Two directories that are commonly known to contain additional libraries are <code>/usr/local/lib</code> and <code>/opt/lib</code>, so add those directories to the dynamic loader's search path.</p>
<p>Create a new file <code>/etc/ld.so.conf</code> by running the following:</p>
<pre><code class="language-sh">cat &gt; /etc/ld.so.conf &lt;&lt; &quot;EOF&quot;
# Begin /etc/ld.so.conf
/usr/local/lib
/opt/lib

EOF
</code></pre>
<p>If desired, the dynamic loader can also search a directory and include the contents of files found there. Generally the files in this include directory are one line specifying the desired library path. To add this capability run the following commands:</p>
<pre><code class="language-sh">cat &gt;&gt; /etc/ld.so.conf &lt;&lt; &quot;EOF&quot;
# Add an include directory
include /etc/ld.so.conf.d/*.conf

EOF
mkdir -pv /etc/ld.so.conf.d
</code></pre>
<blockquote>
<h2><a class="header" href="#contents-of-glibc" id="contents-of-glibc">Contents of Glibc</a></h2>
<p><strong>Installed Programs:</strong> catchsegv, gencat, getconf, getent, iconv, iconvconfig, ldconfig, ldd, lddlibc4, locale, localedef, makedb, mtrace, nscd, pldd, sln, sotruss, sprof, tzselect, xtrace, zdump, and zic</p>
<p><strong>Installed Libraries:</strong> ld-2.29.so, libBrokenLocale.{a,so}, libSegFault.so, libanl.{a,so}, libc.{a,so}, libc_nonshared.a, libcidn.so, libcrypt.{a,so}, libdl.{a,so}, libg.a, libieee.a, libm.{a,so}, libmcheck.a, libmemusage.so, libnsl.{a,so}, libnss_compat.so, libnss_dns.so, libnss_files.so, libnss_hesiod.so, libnss_nis.so, libnss_nisplus.so, libpthread.{a,so}, libpthread_nonshared.a, libresolv.{a,so}, librpcsvc.a, librt.{a,so}, libthread_db.so, and libutil.{a,so}</p>
<p><strong>Installed Directories:</strong> /usr/include/arpa, /usr/include/bits, /usr/include/gnu, /usr/include/net, /usr/include/netash, /usr/include/netatalk, /usr/include/netax25, /usr/include/neteconet, /usr/include/netinet, /usr/include/netipx, /usr/include/netiucv, /usr/include/netpacket, /usr/include/netrom, /usr/include/netrose, /usr/include/nfs, /usr/include/protocols, /usr/include/rpc, /usr/include/rpcsvc, /usr/include/sys, /usr/lib/audit, /usr/lib/gconv, /usr/lib/locale, /usr/libexec/getconf, /usr/share/i18n, /usr/share/zoneinfo, /var/cache/nscd, and /var/lib/nss_db</p>
<table><thead><tr><th align="left">Installed</th><th align="left">Description</th></tr></thead><tbody>
<tr><td align="left"><strong>catchsegv</strong></td><td align="left">Can be used to create a stack trace when a program terminates with a segmentation fault</td></tr>
<tr><td align="left"><strong>gencat</strong></td><td align="left">Generates message catalogues</td></tr>
<tr><td align="left"><strong>getconf</strong></td><td align="left">Displays the system configuration values for file system specific variables</td></tr>
<tr><td align="left"><strong>getent</strong></td><td align="left">Gets entries from an administrative database</td></tr>
<tr><td align="left"><strong>iconv</strong></td><td align="left">Performs character set conversion</td></tr>
<tr><td align="left"><strong>iconvconfig</strong></td><td align="left">Creates fastloading <strong>iconv</strong> module configuration files</td></tr>
<tr><td align="left"><strong>ldconfig</strong></td><td align="left">Configures the dynamic linker runtime bindings</td></tr>
<tr><td align="left"><strong>ldd</strong></td><td align="left">Reports which shared libraries are required by each given program or shared library</td></tr>
<tr><td align="left"><strong>lddlibc4</strong></td><td align="left">Assists <strong>ldd</strong> with object files</td></tr>
<tr><td align="left"><strong>locale</strong></td><td align="left">Prints various information about the current locale</td></tr>
<tr><td align="left"><strong>localedef</strong></td><td align="left">Compiles locale specifications</td></tr>
<tr><td align="left"><strong>makedb</strong></td><td align="left">Creates a simple database from textual input</td></tr>
<tr><td align="left"><strong>mtrace</strong></td><td align="left">Reads and interprets a memory trace file and displays a summary in human-readable format</td></tr>
<tr><td align="left"><strong>nscd</strong></td><td align="left">A daemon that provides a cache for the most common name service requests</td></tr>
<tr><td align="left"><strong>pldd</strong></td><td align="left">Lists dynamic shared objects used by running processes</td></tr>
<tr><td align="left"><strong>sln</strong></td><td align="left">A statically linked <strong>ln</strong> program</td></tr>
<tr><td align="left"><strong>sotruss</strong></td><td align="left">Traces shared library procedure calls of a specified command</td></tr>
<tr><td align="left"><strong>sprof</strong></td><td align="left">Reads and displays shared object profiling data</td></tr>
<tr><td align="left"><strong>tzselect</strong></td><td align="left">Asks the user about the location of the system and reports the corresponding time zone description</td></tr>
<tr><td align="left"><strong>xtrace</strong></td><td align="left">Traces the execution of a program by printing the currently executed function</td></tr>
<tr><td align="left"><strong>zdump</strong></td><td align="left">The time zone dumper</td></tr>
<tr><td align="left"><strong>zic</strong></td><td align="left">The time zone compiler</td></tr>
<tr><td align="left">ld-2.29.so</td><td align="left">The helper program for shared library executables</td></tr>
<tr><td align="left">libBrokenLocale</td><td align="left">Used internally by Glibc as a gross hack to get broken programs (e.g., some Motif applications) running. See comments in glibc-2.29/locale/broken_cur_max.c for more information</td></tr>
<tr><td align="left">libSegFault</td><td align="left">The segmentation fault signal handler, used by <strong>catchsegv</strong></td></tr>
<tr><td align="left">libanl</td><td align="left">An asynchronous name lookup library</td></tr>
<tr><td align="left">libc</td><td align="left">The main C library</td></tr>
<tr><td align="left">libcidn</td><td align="left">Used internally by Glibc for handling internationalized domain names in the getaddrinfo() function</td></tr>
<tr><td align="left">libcrypt</td><td align="left">The cryptography library</td></tr>
<tr><td align="left">libdl</td><td align="left">The dynamic linking interface library</td></tr>
<tr><td align="left">libg</td><td align="left">Dummy library containing no functions. Previously was a runtime library for <strong>g++</strong></td></tr>
<tr><td align="left">libieee</td><td align="left">Linking in this module forces error handling rules for math functions as defined by the Institute of Electrical and Electronic Engineers (IEEE). The default is POSIX.1 error handling</td></tr>
<tr><td align="left">libm</td><td align="left">The mathematical library</td></tr>
<tr><td align="left">libmcheck</td><td align="left">Turns on memory allocation checking when linked to</td></tr>
<tr><td align="left">libmemusage</td><td align="left">Used by <strong>memusage</strong> to help collect information about the memory usage of a program</td></tr>
<tr><td align="left">libnsl</td><td align="left">The network services library</td></tr>
<tr><td align="left">libnss</td><td align="left">The Name Service Switch libraries, containing functions for resolving host names, user names, group names, aliases, services, protocols, etc.</td></tr>
<tr><td align="left">libpthread</td><td align="left">The POSIX threads library</td></tr>
<tr><td align="left">libresolv</td><td align="left">Contains functions for creating, sending, and interpreting packets to the Internet domain name servers</td></tr>
<tr><td align="left">librpcsvc</td><td align="left">Contains functions providing miscellaneous RPC services</td></tr>
<tr><td align="left">librt</td><td align="left">Contains functions providing most of the interfaces specified by the POSIX.1b Realtime Extension</td></tr>
<tr><td align="left">libthread_db</td><td align="left">Contains functions useful for building debuggers for multi-threaded programs</td></tr>
<tr><td align="left">libutil</td><td align="left">Contains code for “standard” functions used in many different Unix utilities</td></tr>
</tbody></table>
</blockquote>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../06-Installing-Basic-System-Software/08-Man-pages-4.16.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../06-Installing-Basic-System-Software/10-Adjusting-the-Toolchain.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a href="../06-Installing-Basic-System-Software/08-Man-pages-4.16.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a href="../06-Installing-Basic-System-Software/10-Adjusting-the-Toolchain.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        
        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            var socket = new WebSocket("ws://127.0.0.1:3001");
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload(true); // force reload from server (not from cache)
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>
        

        

        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
